var Char_Class_Generator=function(){function e(e){return o=e,r=o.charCodeAt(0),47>=r||r>=58&&64>=r||r>=91&&96>=r||r>=122&&126>=r?_=a+"signifier":r>=48&&57>=r?_=a+"numeral":(r>=65&&90>=r||r>=97&&122>=r)&&(_=a+"character"),this}function d(e){o=e,r=o.charCodeAt(0);for(var d=[{start_code:32,end_code:32,desc:"space"},{start_code:33,end_code:33,desc:"exclamation"},{start_code:34,end_code:34,desc:"quotation "},{start_code:35,end_code:35,desc:"hash"},{start_code:36,end_code:36,desc:"dollar"},{start_code:37,end_code:37,desc:"percent"},{start_code:38,end_code:38,desc:"ampersand"},{start_code:39,end_code:39,desc:"apostrophe"},{start_code:40,end_code:40,desc:"left_parenthesis"},{start_code:41,end_code:41,desc:"right_parenthesis"},{start_code:42,end_code:42,desc:"asterix"},{start_code:43,end_code:43,desc:"plus"},{start_code:44,end_code:44,desc:"comma"},{start_code:45,end_code:45,desc:"hyphen"},{start_code:46,end_code:46,desc:"period"},{start_code:47,end_code:47,desc:"slash"},{start_code:58,end_code:58,desc:"colon"},{start_code:59,end_code:59,desc:"semicolon"},{start_code:60,end_code:60,desc:"less_than"},{start_code:61,end_code:61,desc:"equals"},{start_code:62,end_code:62,desc:"greater_than"},{start_code:63,end_code:63,desc:"question"},{start_code:64,end_code:64,desc:"at"},{start_code:65,end_code:90,desc:"uppercase"},{start_code:91,end_code:91,desc:"left_square_vrecket"},{start_code:92,end_code:92,desc:"backslash"},{start_code:93,end_code:93,desc:"right_square_vrecket"},{start_code:94,end_code:94,desc:"caret"},{start_code:95,end_code:95,desc:"underscore"},{start_code:96,end_code:96,desc:"grave_accent"},{start_code:123,end_code:123,desc:"left_curly_brace"},{start_code:124,end_code:124,desc:"vertical_bar"},{start_code:125,end_code:125,desc:"left_curly_brace"},{start_code:126,end_code:126,desc:"tilda"}],c=0;c<d.length;c++)_+=r==d[c].start_code?a+d[c].desc:r>=d[c].start_code&&r<=d[c].start_code?a+d[c].desc:"";return this}function c(e){return a=e||"",this}function t(){return _+=" ",this}function s(){return _}var o="",r="",_="",a="";return{mainClass:e,subClass:d,generate:s,setPrefix:c,space:t}};
"use strict";var Editor=function(){function e(e,s){function t(e){return!1}if(void 0!=e){this.editor_name=e,this.container=new Array,this.work_space=new Array,this.symbol_buffer=new Array,this.console=new Array,this.line=new Array,this.current_line=new Array,void 0!=Observable&&(Observable.apply(this,arguments),this.subscribe(Key_Observer));for(var i=0;i<document.getElementsByClassName(this.editor_name).length;i++)this.container[i]=document.getElementsByClassName(this.editor_name)[i],this.container[i].style.position="relative",this.symbol_buffer[i]=document.createElement("textarea"),this.symbol_buffer[i].className="symbol_buffer",this.symbol_buffer[i].cols="1",this.symbol_buffer[i].rows="1",this.symbol_buffer[i].style.opacity="0",this.container[i].appendChild(this.symbol_buffer[i]),this.work_space[i]=document.createElement("div"),this.work_space[i].className="result",this.work_space[i].style.border="1px solid #000",this.work_space[i].style.height="500px",this.work_space[i].onselectstart=function(){return!1},this.work_space[i].onmousedown=t,this.container[i].appendChild(this.work_space[i]),this.line[i]=new Array,this.current_line[i]=1,this.line[i][this.current_line[i]]=document.createElement("div"),this.line[i][this.current_line[i]].className="line",this.line[i][this.current_line[i]].setAttribute("line_number",this.current_line[i]),this.work_space[i].appendChild(this.line[i][this.current_line[i]]),1==s.console&&(this.console[i]=document.createElement("div"),this.console[i].className="console",this.console[i].style.border="1px solid #000",this.console[i].style.position="absolute",this.console[i].style.top="0px",this.console[i].style.right="0px",this.console[i].style.width="200px",this.console[i].style.height="50px",this.container[i].appendChild(this.console[i])),this.work_space[i].object=this,this.work_space[i].index=i,this.work_space[i].key_scope=Key_Scope.getInstance(),this.work_space[i].onclick=function(){this.object.symbol_buffer[this.index].focus()},this.symbol_buffer[i].object=this,this.symbol_buffer[i].index=i,this.symbol_buffer[i].key_scope=Key_Scope.getInstance(),this.symbol_buffer[i].onkeydown=function(e){void 0!=Observable&&this.object.publish(this.object,this.key_scope,this.index,e,"pressed")},this.symbol_buffer[i].onkeyup=function(e){void 0!=Observable&&this.object.publish(this.object,this.key_scope,this.index,e,"relised")},this.symbol_buffer[i].onblur=function(){this.key_scope.clearKeyMap()}}else console.log("sorry but you have not add any name to editors name field")}return e}();
var Key_Observer=function(e,n,a,r,t){function i(){if(void 0!=document.getElementsByClassName("active")[0]){var e=document.getElementsByClassName("active")[0]||"",n=e.className.split(" ");e.className="";for(var a=0;a<n.length-1;a++)e.className+=n[a],e.className+=" "}}var l=new Char_Class_Generator("wet-"),s=new Module.getInstance;if(n.getKeyMap()[0]<"46"&&(r.preventDefault(),r.stopPropagation()),""==e.line[a][e.current_line[a]].innerHTML){i();var c=document.createElement("span");c.origin_class_name="wet-line-start",c.className=c.origin_class_name+" active";var u=document.createTextNode(" ");c.appendChild(u),e.line[a][e.current_line[a]].innerHTML=e.line[a][e.current_line[a]].innerHTML+c.outerHTML}if(""!=e.symbol_buffer[a].value){i();var o=document.createElement("span");o.origin_class_name=l.setPrefix("wet-").mainClass(e.symbol_buffer[a].value).space().subClass(e.symbol_buffer[a].value).generate(),o.className=o.origin_class_name+" active";var m=document.createTextNode(e.symbol_buffer[a].value);o.appendChild(m),e.line[a][e.current_line[a]].innerHTML=e.line[a][e.current_line[a]].innerHTML+o.outerHTML,e.symbol_buffer[a].value=""}13==n.getKeyMap()&&(i(),e.current_line[a]++,e.line[a][e.current_line[a]]=document.createElement("div"),e.line[a][e.current_line[a]].className="line",e.line[a][e.current_line[a]].setAttribute("line_number",e.current_line[a]),e.work_space[a].appendChild(e.line[a][e.current_line[a]])),"pressed"==t?(s.setOptions({object:e,index:a}),s.runFunction(n.getStringKeyMap()),n.keyDown(r)):"relised"==t&&(s.runFunction(n.getStringKeyMap()),n.keyUp(r)),void 0!=e.console[a]&&(e.console[a].innerHTML=n.getKeyMap())};
var Key_Scope=function(){function n(){function n(n){if(0==u.length)u.push(n);else{for(var e=0;e<=u.length;e++)u[e]==n&&(a=!0);0==a&&u.push(n),a=!1}}function e(n){for(var e=0;e<=u.length;e++)u[e]==n&&u.splice(e,1)}function t(e){var t;window.event?t=e.keyCode:e.which&&(t=e.which),n(t)}function r(n){var t;window.event?t=n.keyCode:n.which&&(t=n.which),e(t)}function o(){return u.sort()}function i(){return u.sort().toString()}function c(){u=[]}var u=new Array,a=!1;return{keyDown:t,keyUp:r,getKeyMap:o,clearKeyMap:c,getStringKeyMap:i}}var e;return{getInstance:function(){return e||(e=n()),e}}}();
var Module=function(){function n(){function n(n,t){c[n]={function_name:t}}function t(){return console.log(c),c}function o(n){n>0&&void 0!=c[n]&&(this[c[n].function_name](i)||"")}function u(n){i=n}var i,c={8:{function_name:"backspase"},9:{function_name:"tab"}};return{addFunction:n,dump:t,runFunction:o,key_assotiation:c,setOptions:u}}var t;return{getInstance:function(){return t||(t=n()),t}}}();
Module.getInstance().backspase=function(e){var a=document.getElementsByClassName("active")[0],s=document.getElementsByClassName("active")[0].previousSibling;if(null!=s)if("wet-line-start"==s.className.split(" ")[0]){var t=document.getElementsByClassName("active")[0].previousSibling.className.trim();a.parentNode.removeChild(a),s.className=t+" active"}else{var t=document.getElementsByClassName("active")[0].previousSibling.className.trim();a.parentNode.removeChild(a),s.className=t+" active"}else if("wet-line-start"==a.className.split(" ")[0]){var l=a.parentNode;console.log(l),l.parentNode.removeChild(l)}};var module=new Module.getInstance;module.addFunction("8","backspase");
var Observable=function(){this.subscribers=new Array,this.subscribe=function(s){this.subscribers.push(s)},this.unsubscribe=function(s){for(var i=0;i<this.subscribers.length;i++)if(this.subscribers[i]===s)return void this.subscribers[i].splice(i,1)},this.publish=function(s,i,r,b,t){for(var u=0;u<this.subscribers.length;u++)this.subscribers[u](s,i,r,b,t)}};